<html>
<head>
  <link href="tabbed.css" rel="stylesheet">
  <link href="report.css" rel="stylesheet">
</head>
<body>

<div id="app">
  <main>
    <h2>Bartender Test Reports</h2>
    <br>
    <p>
      The following reports were generated using <a href="https://github.com/kanaka/bartender">Bartender</a>
      (<b>B</b>rowser <b>A</b>utomated <b>R</b>ender <b>T</b>esti<b>n</b>g <b>D</b>riv<b>er</b>)
    </p>
    <ul style="list-style: none;">
      <li><a href="flat.html?files=gen/data.edn" title="TAPV Tables">Flat List of Rendering Differences</a></li>
      <li><a href="tapv.html?files=gen/data.edn" title="TAPV Tables">Rendering Differences Arranged by Tags/Attributes and Tags/Properties</a></li>
    </ul>
    <br>
    <p>
      The testing was done by comparing Servo
      (git hash <a href="https://github.com/gterzian/servo/commit/9451a0070aa21dcaddb7d1f64e642fbd9b8e692d">9451a00</a>,
      issue <a href="https://github.com/servo/servo/issues/23905">23905</a>)
      with Google Chrome 75.0.3770.142 and Mozilla Firefox 68.0. This
      data was generated from 800 test runs with a maximum of 25 trial
      iterations per run and a maximum generator size parameter of
      100. The consensus algorithm was configured to only report Servo
      specific differences (Servo differences considered non-different
      if Chrome and Firefox also disagree). Out of the 800 test runs,
      237 runs resulted in rendering differences each of which were
      then shrunk to more minimal test cases that still induce
      rendering differences. All 237 shrunk test cases are unique.  In
      total 99,892 iterations (page loads) were performed (trial
      iterations + shrink iterations) that took an wall clock time of
      53 hours on a single 8 CPU 3.2GHz Intel i7
      system.</p><p>Bartender uses several techniques to increase
      efficiency and minimize noise from normal browser rendering
      differences including:
      <ul style="margin-inline-start: 30px;">
        <li>Using of generic CSS resets defined in
            <a href="normalize.css">/static/normalize.css</a></li>
        <li>Using Bartender specific hacks defined in
            <a href="rend.css">/static/rend.css</a></li>
        <li>Using the Ahem font defined in
            <a href="Ahem.ttf">/static/Ahem.ttf</a> (font glyphs are
            solid rectangles)</li>
        <li>Wrapping each font glyph with a 'wrap-ahem' span to
          mitigate Servo issue
          <a href="https://github.com/servo/servo/issues/24042">#24042</a></li>
        <li>Using HTML/CSS grammar weights that are prepopulated from
          separate tests that compared just Firefox and Chrome. HTML
          and CSS elements that caused differences between Firefox and
          Chrome have weights/probabilities that are lowered
          significantly.</li>
      </ul>
    </p>
    <p>
      To get the same rendering behavior you will need the font and
      CSS files listed above alongside the HTML from the test
      case.
    </p>
  </main>
</div>

</body>
</html>
